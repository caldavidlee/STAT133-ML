---
title: "Profile Photo Data Set Practice"
format: typst
author: David Lee

---

```{r}
#| echo: true
install.packages('magick')
install.packages('purrr')
```
```{r}
library(magick)
library(purrr)
# List Files
profiles <- 
    fs::dir_ls("profilePhotos")
# 2. Wrap magick::image_read with `safely()`
safe_read <- safely(magick::image_read)

results <- map(profiles, safe_read)

# 4. Identify failures
failed <- map_lgl(results, ~ !is.null(.x$error))

# Print which files failed
if (any(failed)) {
  message("âŒ Failed to read these files:")
  print(profiles[failed])
}

# 5. Keep only the successful image objects
profile_images <- map(results[!failed], "result")

```

```{r}
typeOf(profile_images)
class(5)
```


```{r}
rmats <- as.raster(profile_images)

```
